<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Thu Dec 04 12:13:01 CET 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>DoiService (GBIF DOI Service 1.0-SNAPSHOT API)</title>
<meta name="date" content="2014-12-04">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DoiService (GBIF DOI Service 1.0-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DoiService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/gbif/doi/DoiExistsException.html" title="class in org.gbif.doi"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/gbif/doi/DoiService.html" target="_top">Frames</a></li>
<li><a href="DoiService.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.gbif.doi</div>
<h2 title="Interface DoiService" class="title">Interface DoiService</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../org/gbif/doi/services/datacite/DataciteService.html" title="class in org.gbif.doi.services.datacite">DataciteService</a>, <a href="../../../org/gbif/doi/services/ezid/EzidService.html" title="class in org.gbif.doi.services.ezid">EzidService</a></dd>
</dl>
<hr>
<br>
<pre>public interface <a href="../../../src-html/org/gbif/doi/DoiService.html#line.8">DoiService</a></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/gbif/doi/DoiService.html#delete(org.gbif.api.model.common.DOI)">delete</a></strong>(org.gbif.api.model.common.DOI&nbsp;doi)</code>
<div class="block">Tries to delete an identifier.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/net/URI.html?is-external=true" title="class or interface in java.net">URI</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/gbif/doi/DoiService.html#get(org.gbif.api.model.common.DOI)">get</a></strong>(org.gbif.api.model.common.DOI&nbsp;doi)</code>
<div class="block">Resolves the identifier to its URL.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/gbif/doi/DoiService.html#getMetadata(org.gbif.api.model.common.DOI)">getMetadata</a></strong>(org.gbif.api.model.common.DOI&nbsp;doi)</code>
<div class="block">Get the metadata for an identifier.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/gbif/doi/DoiService.html#register(org.gbif.api.model.common.DOI, org.gbif.doi.metadata.datacite.DataCiteMetadata)">register</a></strong>(org.gbif.api.model.common.DOI&nbsp;doi,
                <a href="../../../org/gbif/doi/metadata/datacite/DataCiteMetadata.html" title="class in org.gbif.doi.metadata.datacite">DataCiteMetadata</a>&nbsp;metadata)</code>
<div class="block">Registers an identifier that has been reserved, causing it to be publicly registered with resolvers and
 other external services.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/gbif/doi/DoiService.html#reserve(org.gbif.api.model.common.DOI, org.gbif.doi.metadata.datacite.DataCiteMetadata)">reserve</a></strong>(org.gbif.api.model.common.DOI&nbsp;doi,
              <a href="../../../org/gbif/doi/metadata/datacite/DataCiteMetadata.html" title="class in org.gbif.doi.metadata.datacite">DataCiteMetadata</a>&nbsp;metadata)</code>
<div class="block">Reserves a new identifier.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>org.gbif.api.model.common.DOI</code></td>
<td class="colLast"><code><strong><a href="../../../org/gbif/doi/DoiService.html#reserveRandom(java.lang.String, org.gbif.doi.metadata.datacite.DataCiteMetadata)">reserveRandom</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;prefix,
                          <a href="../../../org/gbif/doi/metadata/datacite/DataCiteMetadata.html" title="class in org.gbif.doi.metadata.datacite">DataCiteMetadata</a>&nbsp;metadata)</code>
<div class="block">Mints a new random identifier with the given DOI prefix and reserves it.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/gbif/doi/DoiService.html#updateMetadata(org.gbif.api.model.common.DOI, org.gbif.doi.metadata.datacite.DataCiteMetadata)">updateMetadata</a></strong>(org.gbif.api.model.common.DOI&nbsp;doi,
                            <a href="../../../org/gbif/doi/metadata/datacite/DataCiteMetadata.html" title="class in org.gbif.doi.metadata.datacite">DataCiteMetadata</a>&nbsp;metadata)</code>
<div class="block">Updates the identifier metadata.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="get(org.gbif.api.model.common.DOI)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre><a href="http://docs.oracle.com/javase/6/docs/api/java/net/URI.html?is-external=true" title="class or interface in java.net">URI</a>&nbsp;<a href="../../../src-html/org/gbif/doi/DoiService.html#line.17">get</a>(org.gbif.api.model.common.DOI&nbsp;doi)
        throws <a href="../../../org/gbif/doi/DoiException.html" title="class in org.gbif.doi">DoiException</a></pre>
<div class="block">Resolves the identifier to its URL.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>doi</code> - the identifier to get metadata for</dd>
<dt><span class="strong">Returns:</span></dt><dd>the URL the DOI is backed by</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../org/gbif/doi/DoiException.html" title="class in org.gbif.doi">DoiException</a></code> - if the operation failed for any reason</dd></dl>
</li>
</ul>
<a name="getMetadata(org.gbif.api.model.common.DOI)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetadata</h4>
<pre><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;<a href="../../../src-html/org/gbif/doi/DoiService.html#line.27">getMetadata</a>(org.gbif.api.model.common.DOI&nbsp;doi)
                   throws <a href="../../../org/gbif/doi/DoiException.html" title="class in org.gbif.doi">DoiException</a></pre>
<div class="block">Get the metadata for an identifier. If possible a DataCiteMetadata instance is returned, otherwise just
 the XML String of whatever other format.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>doi</code> - the identifier to get metadata for</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../org/gbif/doi/DoiException.html" title="class in org.gbif.doi">DoiException</a></code> - if the operation failed for any reason</dd></dl>
</li>
</ul>
<a name="reserve(org.gbif.api.model.common.DOI, org.gbif.doi.metadata.datacite.DataCiteMetadata)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reserve</h4>
<pre>void&nbsp;<a href="../../../src-html/org/gbif/doi/DoiService.html#line.44">reserve</a>(org.gbif.api.model.common.DOI&nbsp;doi,
           <a href="../../../org/gbif/doi/metadata/datacite/DataCiteMetadata.html" title="class in org.gbif.doi.metadata.datacite">DataCiteMetadata</a>&nbsp;metadata)
             throws <a href="../../../org/gbif/doi/DoiException.html" title="class in org.gbif.doi">DoiException</a></pre>
<div class="block">Reserves a new identifier. The identifier status is set to RESERVED.
 </br>
 With DataCite, this is done by sending a POST request with the XML metadata (as the request body) to
 https://mds.xsd.datacite.org/metadata. The DOI is specified inside the metadata.
 </br>
 With EZID, this is done by sending a PUT request to http://ezid.cdlib.org/id/{id} where {id} is a unique id
 with shoulder/namespace prefix, and by setting the "_status" metadata element to "reserved".</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>metadata</code> - the metadata to be associated with the doi. The identifier inside the metadata will be overwritten
                 by the doi parameter given</dd><dd><code>doi</code> - the identifier to reserve</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../org/gbif/doi/DoiException.html" title="class in org.gbif.doi">DoiException</a></code> - if the operation failed for any reason</dd></dl>
</li>
</ul>
<a name="reserveRandom(java.lang.String, org.gbif.doi.metadata.datacite.DataCiteMetadata)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reserveRandom</h4>
<pre>org.gbif.api.model.common.DOI&nbsp;<a href="../../../src-html/org/gbif/doi/DoiService.html#line.55">reserveRandom</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;prefix,
                                          <a href="../../../org/gbif/doi/metadata/datacite/DataCiteMetadata.html" title="class in org.gbif.doi.metadata.datacite">DataCiteMetadata</a>&nbsp;metadata)
                                            throws <a href="../../../org/gbif/doi/DoiException.html" title="class in org.gbif.doi">DoiException</a></pre>
<div class="block">Mints a new random identifier with the given DOI prefix and reserves it.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>metadata</code> - the metadata to be associated with the doi. The identifier inside the metadata will be overwritten
                 by the generated DOI</dd><dd><code>prefix</code> - the identifier prefix to use to generate the random DOI</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../org/gbif/doi/DoiException.html" title="class in org.gbif.doi">DoiException</a></code> - if the operation failed for any reason</dd></dl>
</li>
</ul>
<a name="register(org.gbif.api.model.common.DOI, org.gbif.doi.metadata.datacite.DataCiteMetadata)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>register</h4>
<pre>void&nbsp;<a href="../../../src-html/org/gbif/doi/DoiService.html#line.70">register</a>(org.gbif.api.model.common.DOI&nbsp;doi,
            <a href="../../../org/gbif/doi/metadata/datacite/DataCiteMetadata.html" title="class in org.gbif.doi.metadata.datacite">DataCiteMetadata</a>&nbsp;metadata)
              throws <a href="../../../org/gbif/doi/DoiException.html" title="class in org.gbif.doi">DoiException</a></pre>
<div class="block">Registers an identifier that has been reserved, causing it to be publicly registered with resolvers and
 other external services.
 </br>
 With DataCite, this is done by sending a POST request with the  DOI and URL (as the request body) to
 https://mds.xsd.datacite.org/doi.
 </br>
 With EZID, this can be done by updating the "_status" metadata element from "reserved" to "public".</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>doi</code> - the identifier to register</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../org/gbif/doi/DoiException.html" title="class in org.gbif.doi">DoiException</a></code> - if the operation failed for any reason</dd></dl>
</li>
</ul>
<a name="delete(org.gbif.api.model.common.DOI)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>boolean&nbsp;<a href="../../../src-html/org/gbif/doi/DoiService.html#line.88">delete</a>(org.gbif.api.model.common.DOI&nbsp;doi)
               throws <a href="../../../org/gbif/doi/DoiException.html" title="class in org.gbif.doi">DoiException</a></pre>
<div class="block">Tries to delete an identifier. If the DOI has only been reserved it will be fully deleted,
 if it was registered before it's status will become unavailable.
 You can register an unavailable DOI again if needed.
 </br>
 With DataCite, this is done by sending a DELETE request to https://mds.xsd.datacite.org/metadata, which inactivates
 the DOI.
 </br>
 With EZID, this is done by sending a DELETE request to http://ezid.cdlib.org/id/{id}
 or by setting the "_status" metadata element to "unavailable" for registered DOIs.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>doi</code> - the identifier to delete</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the DOI was fully deleted, false if it became unavailable</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../org/gbif/doi/DoiException.html" title="class in org.gbif.doi">DoiException</a></code> - if the operation failed for any reason</dd></dl>
</li>
</ul>
<a name="updateMetadata(org.gbif.api.model.common.DOI, org.gbif.doi.metadata.datacite.DataCiteMetadata)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>updateMetadata</h4>
<pre>void&nbsp;<a href="../../../src-html/org/gbif/doi/DoiService.html#line.104">updateMetadata</a>(org.gbif.api.model.common.DOI&nbsp;doi,
                  <a href="../../../org/gbif/doi/metadata/datacite/DataCiteMetadata.html" title="class in org.gbif.doi.metadata.datacite">DataCiteMetadata</a>&nbsp;metadata)
                    throws <a href="../../../org/gbif/doi/DoiException.html" title="class in org.gbif.doi">DoiException</a></pre>
<div class="block">Updates the identifier metadata. This method must be called every time the object or metadata referenced by
 the identifier changes (e.g. a gets republished, a data set is replaced by a new major version, etc).
 </br>
 With DataCite, this is done by sending a POST request with XML metadata (as the request body) to
 https://mds.xsd.datacite.org/metadata.
 </br>
 With EZID, this is done by sending a POST request with metadata (as request body) to
 http://ezid.cdlib.org/id/{id}.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>doi</code> - the identifier of metadata to update</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../org/gbif/doi/DoiException.html" title="class in org.gbif.doi">DoiException</a></code> - if the operation failed for any reason</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DoiService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/gbif/doi/DoiExistsException.html" title="class in org.gbif.doi"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/gbif/doi/DoiService.html" target="_top">Frames</a></li>
<li><a href="DoiService.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014 <a href="http://www.gbif.org">Global Biodiversity Information Facility</a>. All rights reserved.</small></p>
</body>
</html>